var donation_amount=0,thankyou_page_url="";function putValue(e){return jQuery("#donation_amt_lbl").text(e),donation_amount=e}function detect_change(){""==jQuery(".make-donation-wrapper > .amount_wrapper > input").val()?jQuery("#donation_amt_lbl").text("0"):jQuery("#donation_amt_lbl").text(jQuery(".make-donation-wrapper > .amount_wrapper > input").val()),10==(donation_amount=jQuery(".make-donation-wrapper > .amount_wrapper > input").val())||20==donation_amount||50==donation_amount||100==donation_amount?(jQuery(".single_amount").removeClass("single_active"),jQuery(".single-"+donation_amount).addClass("single_active")):jQuery(".single_amount").removeClass("single_active")}setTimeout((function(){jQuery(".make-donation-wrapper > .amount_wrapper > input").trigger("change")}),20),jQuery(document).on("click",".make-donation-wrapper > .single_amount_wrapper > .single_amount",(function(){jQuery(".single_amount").removeClass("single_active"),jQuery(this).addClass("single_active"),jQuery("#donation_amt_lbl").text(jQuery(this).attr("value"))})),jQuery(".make-donation-wrapper > .amount_wrapper > input").change((function(){detect_change()})),jQuery(".make-donation-wrapper > .amount_wrapper > input").keyup((function(){detect_change()}));var btn=document.getElementById("btn-donate");btn.onclick=function(){jQuery("#loading-screen").fadeIn(),handle_Submit(1*(donation_amount=jQuery("#donation_amt_lbl").text()))};var _gas="100000",recipient=document.getElementById("kujira-wallat").value;const Denom="factory/kujira1qk00h5atutpsv900x202pxx42npjr9thg58dnqpa72f2p7m2luase444a7/uusk",Chain_Info={chainId:"kaiyo-1",chainName:"Kujira",rpc:"https://rpc.kaiyo.kujira.setten.io",rest:"https://lcd.kaiyo.kujira.setten.io",bip44:{coinType:118},bech32Config:{bech32PrefixAccAddr:"kujira",bech32PrefixAccPub:"kujirapub",bech32PrefixValAddr:"kujiravaloper",bech32PrefixValPub:"kujiravaloperpub",bech32PrefixConsAddr:"kujiravalcons",bech32PrefixConsPub:"kujiravalconspub"},currencies:[{coinDenom:"KUJI",coinMinimalDenom:"ukuji",coinDecimals:6,coinGeckoId:"kujira"},{coinDenom:"USK",coinMinimalDenom:Denom,coinDecimals:6,coinGeckoId:"usk"}],feeCurrencies:[{coinDenom:"USK",coinMinimalDenom:Denom,coinDecimals:6,coinGeckoId:"usk"}],stakeCurrency:{coinDenom:"KUJI",coinMinimalDenom:"ukuji",coinDecimals:6,coinGeckoId:"kujira"},coinType:118,gasPriceStep:{low:.0015,average:.002,high:.003}};async function connectWallet(){if(!window.getOfflineSigner||!window.keplr)return alert("Please install keplr extension"),void jQuery("#loading-screen").fadeOut();{if(!window.keplr.experimentalSuggestChain)return alert("Please use the recent version of keplr extension"),void jQuery("#loading-screen").fadeOut();try{await window.keplr.experimentalSuggestChain(Chain_Info)}catch(e){console.log("err",e),alert("Failed to suggest the chain"),jQuery("#loading-screen").fadeOut()}const e="kaiyo-1";await window.keplr.enable(e);const n=window.getOfflineSigner(e),a=await n.getAccounts();new SigningCosmosClient.SigningCosmosClient("https://rpc.kaiyo.kujira.setten.io/",a[0].address,n)}}async function handle_Submit(e){if(await connectWallet(),Number(e)>0){var n=1e6*e;if(isNaN(n))return alert("Invalid amount"),jQuery("#loading-screen").fadeOut(),!1;if("kujira"!=recipient.substr(0,6))return alert("Invalid kujira Reciver Address."),jQuery("#loading-screen").fadeOut(),!1;if(window&&window.keplr){var a="kaiyo-1";await window.keplr.enable(a);var t=await window.getOfflineSigner(a),i=await t.getAccounts(),o=await SigningStargateClient.SigningStargateClient.connectWithSigner("https://rpc.kaiyo.kujira.setten.io/",t),r={denom:Denom,amount:n.toString()},u={amount:[{denom:Denom,amount:n.toString()}],gas:_gas},c=await o.sendTokens(i[0].address,recipient,[r],u,"Fun Crypto Donation");console.log(c),window.result=c,void 0!==c.code&&0!==c.code?(alert("Failed to send tx: "+c.log||c.rawLog),jQuery("#loading-screen").fadeOut()):jQuery.ajax({type:"post",url:"/wp-admin/admin-ajax.php",data:{action:"dl_don_cvrn",amount:donation_amount,Tr_Hash:c.transactionHash,payment_method:"USK"},success:function(e){e&&window.location.replace(e)}})}else await connectWallet()}else alert("Please enter valid amount"),jQuery("#loading-screen").fadeOut()}function numberWithCommas(e){return e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")}